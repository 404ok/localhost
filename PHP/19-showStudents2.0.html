<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../bootstrap/css/bootstrap.min.css">
    <script src="./ajax.js"></script>
    <script>
        /* 
            【注】
            .css    开发版本
            .min.css 上线版本

            bootstrap.css   别人写好的css样式
            假如要用bootstrp的js必须先引入jqury
         */

         //点击按钮之后，下载php页面返回的数据，将数据返回到页面
         window.onload = function(){
             //将需要节点获取到
            var btn = document.getElementById("btn1");
            var t1 = document.getElementById("t1");
             //点击按钮，通过ajax获取学员信息
             btn.onclick = function(){
                 $ajax({
                     method:"get",
                     url:'./q.php',
                     success:function(result){
                         var arr = JSON.parse(result);
                         var str = '';
                        for(var i = 0;i < arr.length;i++){
                            str += `<tr><td>${arr[i].id}</td><td>${arr[i].name}</td><td>${arr[i].math}</td><td>${arr[i].english}</td><td>${arr[i].chinese}</td></tr>`
                        }
                        t1.innerHTML = str;
                     },
                     error:function(msg){
                         alert(msg);
                     }
                 })
             }
         }
    </script>
</head>
<body>
    <div class="container">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h2>获取学员成绩</h2>
            </div>
            <div class="panel-body">
                <button id="btn1" class="btn btn-primary">获取所有学员成绩</button>
                <br>
                <br>
                <table class="table table-bordered  table-hover">
                    <thead>
                        <tr>
                            <td>学员学号</td>
                            <td>学员姓名</td>
                            <td>数学</td>
                            <td>英语</td>
                            <td>语文</td>
                        </tr>
                    </thead>
                    <!-- 数据插入位置 -->
                    <tbody id="t1">
                       
                    </tbody>
                </table>
            </div>
            <div class="panel-footer">
                <a href="./21-insertStudents.html">查看学员成绩</a>
            </div>
        </div>
    </div>
</body>
</html>